import React, { useState } from 'react';
import { useParams, Link } from 'react-router-dom';
import styles from './ServiceDetailPage.module.css';
import Modal from '../../components/Modal/Modal';
import ServiceTagTiles from '../../components/ServiceTagTiles/ServiceTagTiles';

const serviceDetails = {
    'zagranpassport': {
        title: 'Загранпаспорт срочно',
        fullDescription: 'Содействие в ускоренном получении заграничного паспорта. VisaLand выступает посредником и оказывает содействие в срочном оформлении загранпаспорта в Москве. С нашей поддержкой вы намного меньше времени потратите на изготовление, при этом избежав очередей, путаницы в бумагах и других проявлений бюрократии. Квалифицированная помощь позволит вам грамотно собрать и заполнить необходимые бумаги и избежать задержек в оформлении.',
        price: 'от 23 000 ₽',
        includes: [
            'Консультация по вопросам оформления загранпаспорта',
            'Подготовка полного пакета документов',
            'Заполнение анкеты и других форм',
            'Сопровождение при подаче документов',
            'Контроль процесса на всех этапах оформления'
        ],
        timeframe: 'В среднем 10 дней'
    },
    'rupassport': {
        title: 'Российский паспорт для граждан РФ, в срочном порядке',
        fullDescription: 'Мы окажем содействие в срочном получении, восстановлении или замене российского паспорта, независимо от места прописки, регистрации или фактического проживания.',
        price: 'от 25 000 ₽',
        includes: [
            'Консультация по вопросам получения паспорта',
            'Подготовка и проверка документов',
            'Заполнение всех необходимых форм',
            'Сопровождение в государственных органах',
            'Контроль сроков и статуса оформления'
        ],
        timeframe: 'От 3 дней'
    },
    'spravka-sudimost': {
        title: 'Справка о наличии/отсутствии судимости',
        fullDescription: 'Оформление справки о наличии/отсутствии судимости. Документ необходим для трудоустройства, получения визы, вида на жительство и других целей.',
        price: 'от 10 000 ₽',
        includes: [
            'Подготовка заявления',
            'Оформление документов',
            'Подача запроса в МВД',
            'Контроль статуса выдачи',
            'Получение готового документа'
        ],
        timeframe: ' 10 дней'
    },
    'viza': {
        title: 'Загранпаспорт для детей срочно',
        fullDescription: 'Мы поможем в оформлении загранпаспорта для ребенка. Наша компания оказывает профессиональную помощь в получении загранпаспорта для детей в ускоренном режиме.',
        price: 'от 23 000 ₽',
        includes: [
            'Консультация по оформлению детского загранпаспорта',
            'Подготовка всех необходимых документов',
            'Заполнение анкет и форм',
            'Сопровождение при подаче документов',
            'Получение готового паспорта'
        ],
        timeframe: '3 дня'
    },
    'inn': {
        title: 'Оформить и получить загранпаспорт без регистрации в Москве',
        fullDescription: 'Не уверены, есть ли возможность получить загранпаспорт в Москве без прописки и регистрации? Специалисты нашей Консульской Службы с удовольствием Вам помогут! Мы предоставляем полное юридическое сопровождение и помощь в оформлении загранпаспорта для граждан без московской прописки и регистрации.',
        price: 'от 23 000 ₽',
        includes: [
            'Консультация по возможностям получения паспорта без регистрации',
            'Подготовка полного пакета документов',
            'Юридическое сопровождение процесса',
            'Содействие в подаче документов',
            'Контроль на всех этапах оформления'
        ],
        timeframe: '30 дней'
    },
    'snils': {
        title: 'Загранпаспорт с задолжностями',
        fullDescription: 'Мы поможем Вам подать документы на оформление загранпаспортов для граждан России: взрослым, детям, срочно и не очень, биометрический на 10 лет или стандартный на 5 лет, а также иногородним гражданам и гражданам без регистрации и прописки. Мы знаем все тонкости процесса и поможем избежать возможных проблем при подаче заявления.',
        price: 'от 60 000 ₽',
        includes: [
            'Выбор типа загранпаспорта (биометрический или стандартный)',
            'Подготовка полного пакета документов',
            'Заполнение анкеты и других форм',
            'Сопровождение при подаче документов',
            'Помощь в получении готового паспорта'
        ],
        timeframe: '30 дней'
    },
    'apostil': {
        title: 'Срочный апостиль документов',
        fullDescription: 'Услуги по проставлению апостиля на различные документы для их использования за границей.',
        price: 'от 11 000 ₽',
        includes: [
            'Консультация по вопросам легализации',
            'Подготовка документов',
            'Подача заявления',
            'Контроль процесса',
            'Получение документов с апостилем'
        ],
        timeframe: '5 дней'
    },
    'passport-no-military': {
        title: 'Загранпаспорт без военного билета',
        fullDescription: 'Вам предстоит поездка в другую страну и нужен загранпаспорт? Получите загранпаспорт без военного билета всего за 4 шага, без очередей и бюрократических задержек! Мы предоставляем полное юридическое сопровождение и помощь в оформлении загранпаспорта для граждан, не имеющих военного билета или приписного свидетельства.',
        price: 'от 60 000 ₽',
        includes: [
            'Консультация по особенностям получения загранпаспорта без военного билета',
            'Подготовка необходимого пакета документов',
            'Юридическое сопровождение процесса',
            'Содействие в подаче документов',
            'Контроль на всех этапах оформления'
        ],
        timeframe: '30 дней'
    }
};

function ServiceDetailPage() {
    const [isModalOpen, setIsModalOpen] = useState(false);
    const { id } = useParams();
    const service = serviceDetails[id];
    
    const openModal = () => {
        setIsModalOpen(true);
    };
    
    const closeModal = () => {
        setIsModalOpen(false);
    };
    
    if (!service) {
        return (
            <div className={styles.notFound}>
                <h2>Услуга не найдена</h2>
                <Link to="/service.html" className={styles.backButton}>Вернуться к списку услуг</Link>
            </div>
        );
    }
    
    return (
        <div className={styles.servicePage}>
            <div className="container">
                <div className={styles.header}>
                    <h1 className={styles.title}>{service.title}</h1>
                    <div className={styles.price}>{service.price}</div>
                </div>
                
                <div className={styles.description}>
                    <p>{service.fullDescription}</p>
                </div>
                
                <div className={styles.infoBlock}>
                    <h2>Что входит в услугу:</h2>
                    <ul className={styles.includesList}>
                        {service.includes.map((item, index) => (
                            <li key={index}>{item}</li>
                        ))}
                    </ul>
                </div>
                
                <div className={styles.infoBlock}>
                    <h2>Средний срок выполнения:</h2>
                    <p className={styles.timeframe}>{service.timeframe}</p>
                </div>
                
                <button className={styles.calculateButton} onClick={openModal}>
                    Все сроки и цены
                </button>
                
                <div className={styles.contactBlock}>
                    <h2>Узнать подробнее или заказать услугу:</h2>
                    <p>Позвоните нам: <a href="tel:+74991363808">+7 (499) 136-38-08</a></p>
                    <p>Или напишите на почту: <a href="mailto:visaland@mail.ru">visaland@mail.ru</a></p>
                </div>
                
                <ServiceTagTiles currentServiceId={id} />
                
                <div className={styles.backLinkWrapper}>
                    <Link to="/service.html" className={styles.backButton}>
                        ← Вернуться к списку услуг
                    </Link>
                </div>
            </div>
            
            <Modal isOpen={isModalOpen} onClose={closeModal} serviceId={id} />
        </div>
    );
}

export default ServiceDetailPage; 